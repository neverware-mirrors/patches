---
 arch/avr32/boards/merisc/merisc_sysfs.c |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

--- a/arch/avr32/boards/merisc/merisc_sysfs.c
+++ b/arch/avr32/boards/merisc/merisc_sysfs.c
@@ -18,7 +18,7 @@
 #include <linux/ctype.h>
 #include "merisc.h"
 
-static ssize_t merisc_model_show(struct class *class, char *buf)
+static ssize_t model_show(struct class *class, char *buf)
 {
 	ssize_t ret = 0;
 
@@ -27,8 +27,9 @@ static ssize_t merisc_model_show(struct
 
 	return ret;
 }
+static CLASS_ATTR_RO(model);
 
-static ssize_t merisc_revision_show(struct class *class, char *buf)
+static ssize_t revision_show(struct class *class, char *buf)
 {
 	ssize_t ret = 0;
 
@@ -37,17 +38,19 @@ static ssize_t merisc_revision_show(stru
 
 	return ret;
 }
+static CLASS_ATTR_RO(revision);
 
-static struct class_attribute merisc_class_attrs[] = {
-	__ATTR(model, S_IRUGO, merisc_model_show, NULL),
-	__ATTR(revision, S_IRUGO, merisc_revision_show, NULL),
-	__ATTR_NULL,
+static struct attribute *merisc_class_attrs[] = {
+	&class_attr_model.attr,
+	&class_attr_revision.attr,
+	NULL,
 };
+ATTRIBUTE_GROUPS(merisc_class);
 
 struct class merisc_class = {
 	.name =		"merisc",
 	.owner =	THIS_MODULE,
-	.class_attrs =	merisc_class_attrs,
+	.class_groups =	merisc_class_groups,
 };
 
 static int __init merisc_sysfs_init(void)
